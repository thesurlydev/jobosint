<!DOCTYPE HTML>
<html xmlns:th="https://www.thymeleaf.org">
<head>
    <title>Job Detail</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>
<body>
<h1>Job Detail</h1>

<p><a href="/">Back home</a></p>

<p th:text="'title: ' + ${job.jobDetail().job().title}" />
<p th:text="'id: ' + ${job.jobDetail().job().id()}" />
<p th:text="'url: ' + ${job.jobDetail().job().url}" />
<p>company: <a th:href="@{{url}(url=${job.jobDetail().company().websiteUrl()})}" th:text="${job.jobDetail().company().name()}">company website</a></p>

<h2>notes</h2>
<table>
    <thead>
    <tr>
        <th>Description</th>
        <th>Created</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="note : ${job.notes()}">
        <td th:text="${note.description}">description</td>
        <td th:text="${note.createdAt}">createdAt</td>
    </tr>
    </tbody>
</table>

<h3>Add note</h3>
<form action="#" th:action="@{/note}" th:object="${note}" method="post">
    <input type="hidden" th:field="*{jobId}"/>
    <textarea rows="5" cols="50" th:field="*{description}"></textarea>
    <p><input type="submit" value="Save note" /></p>
</form>

<hr/>
<a href="/job">Add another job</a>
</body>
</html>